<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photos | T-Young</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0f172a; color: #f8fafc; }
        .img-card { background: #1e293b; border: 1px solid #334155; overflow: hidden; border-radius: 12px; }
    </style>
</head>
<body class="p-8">

    <header class="max-w-6xl mx-auto mb-12 flex justify-between items-end">
        <div>
            <a href="index.html" class="text-sky-500 hover:underline text-sm uppercase tracking-widest font-bold">‚Üê Back Home</a>
            <h1 class="text-3xl font-bold mt-2">Gallery</h1>
        </div>
    </header>

    <main id="gallery-container" class="max-w-6xl mx-auto space-y-12">
        <div id="status" class="text-slate-500 animate-pulse">Scanning assets...</div>
    </main>

    <script>
        const USER = 'ghxstxch';
        const REPO = 'tyoung-site';

        async function loadGallery() {
            const container = document.getElementById('gallery-container');
            try {
                const res = await fetch(`https://api.github.com/repos/${USER}/${REPO}/contents/assets`);
                const items = await res.json();
                document.getElementById('status').remove();

                for (const item of items) {
                    if (item.type === 'dir') {
                        const section = document.createElement('section');
                        section.innerHTML = `
                            <h2 class="text-xl font-bold mb-4 border-b border-slate-800 pb-2 capitalize">${item.name.replace(/-/g, ' ')}</h2>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="grid-${item.name}"></div>
                        `;
                        container.appendChild(section);
                        fetchImages(item.path, document.getElementById(`grid-${item.name}`));
                    }
                }
            } catch (e) { console.error(e); }
        }

        async function fetchImages(path, grid) {
            const res = await fetch(`https://api.github.com/repos/${USER}/${REPO}/contents/${path}`);
            const files = await res.json();
            files.forEach(file => {
                if (file.name.match(/\.(jpg|jpeg|png|gif|webp)$/i)) {
                    const div = document.createElement('div');
                    div.className = 'img-card';
                    div.innerHTML = `<img src="${file.download_url}" class="w-full h-40 object-cover hover:opacity-80 transition cursor-pointer">`;
                    grid.appendChild(div);
                }
            });
        }
        loadGallery();
    </script>
</body>
</html>